---
title: "02-analyseData"
author: "nilseling"
date: "2020-05-03"
output: workflowr::wflow_html
editor_options:
  chunk_output_type: console
---

## Introduction

Here, we will read in the pre-processed data generated by the first script.
As data analysis task, we will perform a simple principal component analysis (PCA) and will use a custom made function to visualize the results.

First, we will read in the data and source in the custom script.

```{r read-data}
iris_dat <- readRDS("data/iris.rds")
source("code/auxiliary.R")
```

## Compute the PCA

Here, we will use the `prcomp` function provided by the `stats` package.
By default, values are not scaled (only centred) - however it is recommended to scale values to unit variance.
The PCA projects each data point (each plant) onto the axes of highest variance.

```{r compute-pca}
cur_pca <- prcomp(iris[,1:4], scale. = TRUE)
```

## Visualize the results nicely

Here, I will "over-engineer" an example for teaching porposes.
However, take a look at [https://cran.r-project.org/web/packages/ggfortify/vignettes/plot_pca.html](https://cran.r-project.org/web/packages/ggfortify/vignettes/plot_pca.html) for nice ways of visualizing PCA (and other low dimensionality reduction results).

```{r plotPCA}
my_plotPCA(pca = cur_pca, colour_by = iris$Species)
```


